<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animation-runner-behavior.html">
<link rel="import" href="../../bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="../../bower_components/dom-if-else/dom-if-else.html">

<link rel="import" href="../help-icon/help-icon.html">
<link rel="import" href="../common-styles.html">
<link rel="import" href="../card-styles.html">
<link rel="import" href="../project-card-behavior.html">

<dom-module id="checklist-card">
  <template>
    <style include="card-styles"></style>
    <style include="common-styles">
      :host {
        min-height: 102px;
      }
      :host iron-icon.main {
        width: 60px;
        height: 60px;
        top: -4px;
      }
      :host paper-icon-button {
        position: absolute;
        bottom: 0;
        right: 0;
      }
      :host paper-dialog {
        text-align: left;
      }
    </style>
    <h2>{{title}}</h2>
    <paper-spinner active id="loading"></paper-spinner>
    <div id="content" style="opacity: 0">
      <strong>
        {{content}}
        <template is="dom-if" if="{{icon}}">
          <iron-icon icon="{{icon}}" id="{{id}}" class="main"></iron-icon>
          <template is="dom-if" if="{{iconTooltip}}">
            <paper-tooltip for="{{id}}" position="right" offset="3" animation-delay="1">{{iconTooltip}}</paper-tooltip>
          </template>
        </template>
      </strong>
      <template is="dom-if" if="{{error}}">
        <iron-icon icon="clear" class="main"></iron-icon>
      </template>
      <help-icon text$="{{help}}"></help-icon>
      <paper-dialog entry-animation="scale-up-animation">
        <template is="dom-if" if="{{sortedData}}">
          <div>
            <h4>Minimum Criteria</h4>
            <template is="dom-repeat" items="{{sortedData.minimumCriteria}}">
              <template is="dom-if-else" if="{{item.passed}}">
                <if-then>
                  <iron-icon icon="check"></iron-icon>
                </if-then>
                <if-else>
                  <iron-icon icon="clear"></iron-icon>
                </if-else>
              </template>
              {{item.desc}}<br>
            </template>

            <h4>Good Citizen</h4>
            <template is="dom-repeat" items="{{sortedData.goodCitizen}}">
              <template is="dom-if-else" if="{{item.passed}}">
                <if-then>
                  <iron-icon icon="check"></iron-icon>
                </if-then>
                <if-else>
                  <iron-icon icon="clear"></iron-icon>
                </if-else>
              </template>
              {{item.desc}}<br>
            </template>

            <h4>Extra Credit</h4>
            <template is="dom-repeat" items="{{sortedData.extraCredit}}">
              <template is="dom-if-else" if="{{item.passed}}">
                <if-then>
                  <iron-icon icon="check"></iron-icon>
                </if-then>
                <if-else>
                  <iron-icon icon="clear"></iron-icon>
                </if-else>
              </template>
              {{item.desc}}<br>
            </template>
          </div>
        </template>
      </paper-dialog>
      <paper-icon-button icon="zoom-in" on-click="showDialog" id="moobar"></paper-icon-button>
    </div>
  </template>

  <script src="checklist-card.js"></script>
</dom-module>
